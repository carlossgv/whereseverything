(this.webpackJsonpwhereseverything=this.webpackJsonpwhereseverything||[]).push([[0],{20:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/fantasyImage.6943e0d2.jpg"},21:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/showsImage.47ba5dca.jpg"},22:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/spaceImage.aaa3afbe.jpg"},23:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/underWaterImage.47c2c78b.jpg"},38:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},53:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){var c={"./fantasyImage.jpg":[20],"./loadingplaceholder.jpg":[65,4],"./showsImage.jpg":[21],"./spaceImage.jpg":[22],"./underWaterImage.jpg":[23]};function a(e){if(!n.o(c,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=c[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(a)}))}a.keys=function(){return Object.keys(c)},a.id=60,e.exports=a},61:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),s=n(28),o=n.n(s),i=(n(38),n(39),n(15)),r=n(5),l=n(8),d=n(29),u=n.n(d),j=(n(40),n(41),n(20)),f=n(21),m=n(22),h=n(23),b=n(1),p=function(){var e=Object(c.useState)(0),t=Object(l.a)(e,2),n=t[0],a=t[1],s=function(e){a(e)},o=[{url:j.default,name:Object.keys({fantasyImage:j.default})},{url:f.default,name:Object.keys({showsImage:f.default})},{url:m.default,name:Object.keys({spaceImage:m.default})},{url:h.default,name:Object.keys({underWaterImage:h.default})}];return Object(b.jsxs)("div",{className:"mainCarousel",children:[Object(b.jsx)(u.a,{arrows:!0,infinite:!0,className:"imagesCarousel",value:n,onChange:s,plugins:["arrows"],children:o.map((function(e){return Object(b.jsx)(i.b,{to:"image/".concat(e.name),children:Object(b.jsx)("img",{className:"carouselImg",src:e.url,alt:""})},e.name)}))}),Object(b.jsx)(d.Dots,{value:n,onChange:s,number:4})]})},g=(n(50),function(){return Object(b.jsx)("div",{className:"Main",children:Object(b.jsx)(p,{})})});n(51);var O=function(){var e=Object(c.useState)("none"),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)("none"),o=Object(l.a)(s,2),r=o[0],d=o[1],u=Object(c.useState)("none"),j=Object(l.a)(u,2),f=j[0],m=j[1];return Object(b.jsx)("nav",{children:Object(b.jsxs)("div",{className:"navContent",children:[Object(b.jsx)("div",{id:"navLeft",children:Object(b.jsx)(i.b,{to:"/",children:Object(b.jsx)("h1",{children:"WHERE'S EVERYTHING?"})})}),Object(b.jsxs)("div",{className:"navRight",children:[Object(b.jsx)("span",{onClick:function(){return d("block")},children:"Leaderboard"}),Object(b.jsx)("span",{onClick:function(){return a("block")},children:"How to play"}),Object(b.jsx)("span",{onClick:function(){return m("block")},children:"Credits"}),Object(b.jsx)("div",{id:"howTo",className:"modal",style:{display:n},children:Object(b.jsxs)("div",{className:"modal-content howTo",children:[Object(b.jsx)("span",{className:"close",onClick:function(){return a("none")},children:"\xd7"}),Object(b.jsx)("p",{children:"HOW TO PLAY"})]})}),Object(b.jsx)("div",{id:"leaderBoard",className:"modal",style:{display:r},children:Object(b.jsxs)("div",{className:"modal-content leaderBoard",children:[Object(b.jsx)("span",{className:"close",onClick:function(){return d("none")},children:"\xd7"}),Object(b.jsx)("p",{children:"LEADERBOARD"})]})}),Object(b.jsx)("div",{id:"credits",className:"modal",style:{display:f},children:Object(b.jsxs)("div",{className:"modal-content credits",children:[Object(b.jsx)("span",{className:"close",onClick:function(){return m("none")},children:"\xd7"}),Object(b.jsx)("p",{children:"CREDITS"}),Object(b.jsx)("p",{children:"Art: Marija Tiurina (@marijatiurina)"})]})})]})]})})},x=n(17),v=n.n(x),y=n(24);n(53);function I(e){return Object(b.jsxs)("div",{className:"timer",children:[Object(b.jsxs)("span",{className:"digits",children:[("0"+Math.floor(e.time/6e4%60)).slice(-2),":"]}),Object(b.jsxs)("span",{className:"digits",children:[("0"+Math.floor(e.time/1e3%60)).slice(-2),"."]}),Object(b.jsx)("span",{className:"digits mili-sec",children:("0"+e.time/10%100).slice(-2)})]})}var N=n(25);n(62),n(54),n(63),n(64);N.a.initializeApp({apiKey:"AIzaSyC3uPXT4bQfZjx6VxEuHMyTBnLWNZVvCg8",authDomain:"whereswaldo-carlossgv.firebaseapp.com",projectId:"whereswaldo-carlossgv",storageBucket:"whereswaldo-carlossgv.appspot.com",messagingSenderId:"801911005832",appId:"1:801911005832:web:fb56b311520a4c0e8bf53d",measurementId:"G-DEC45V2ZP2"});var w=N.a.firestore();N.a.storage();function k(e,t){var n=function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),c=0;c<n.length;c++){for(var a=n[c];" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return""}("id");if(console.log(n,e,t),""!==n){w.collection("users").doc(n).get().then((function(c){if(c.exists){console.log("Document data:",c.data());var a=c.data().name,s=c.data().scores;t<s[e]&&(s[e]=t,console.log("new record!")),w.collection("users").doc(n).set({name:a,scores:s}).then((function(){console.log("Document successfully written!")})).catch((function(e){console.error("Error writing document: ",e)}))}else console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}))}else{var c=prompt("Please enter your name:",""),a={};a[e]=t,w.collection("users").add({name:c,scores:a}).then((function(e){console.log("Document written with ID: ",e.id),function(e,t,n){var c=new Date;c.setTime(c.getTime()+24*n*60*60*1e3);var a="expires="+c.toUTCString();document.cookie=e+"="+t+";"+a+";path=/"}("id",e.id,365)})).catch((function(e){console.error("Error adding document: ",e)}))}}var C=function(e){var t=e.imageName,n=e.time;return Object(c.useEffect)((function(){0!==n&&k(t,n)}),[n]),Object(b.jsx)("div",{id:"myModal",className:"finishContainer",children:Object(b.jsxs)("div",{className:"modal-content",id:"caption",children:[Object(b.jsx)("h1",{children:"FINISHED!"}),Object(b.jsxs)("h3",{children:["Your time was: ",Object(b.jsx)(I,{time:n})]}),Object(b.jsx)(i.b,{to:"/",children:Object(b.jsx)("button",{children:"Play again"})})]})})},S=(n(57),function(e){var t=e.visibility,n=e.coordinates,c=e.options,a=e.handleOptionsClick;return Object(b.jsxs)("div",{className:"optionsSquare",children:[Object(b.jsx)("div",{className:"square ".concat(t),style:{left:"".concat(n.squareX,"px"),top:"".concat(n.squareY,"px")}}),Object(b.jsx)("div",{className:"optionsDiv ".concat(t),style:{left:"".concat(n.optionsX,"px"),top:"".concat(n.optionsY,"px")},children:Object(b.jsx)("ul",{children:c.map((function(e){var t="";return e.isLocated&&(t="isLocated"),Object(b.jsx)("li",{className:"option ".concat(t),onClick:a,children:e.name},e.name)}))})})]})});n(58),n(59);var T=function(e){var t=Object(c.useState)(!1),n=Object(l.a)(t,2),s=n[0],o=n[1],i=Object(c.useState)(!0),r=Object(l.a)(i,2),d=r[0],u=r[1],j=Object(c.useState)(0),f=Object(l.a)(j,2),m=f[0],h=f[1];a.a.useEffect((function(){var e=null;return s&&!1===d?e=setInterval((function(){h((function(e){return e+10}))}),10):clearInterval(e),function(){clearInterval(e)}}),[s,d]),a.a.useEffect((function(){p()}),[]),a.a.useEffect((function(){console.log(e.isFinished),e.isFinished&&(u(!d),e.logTime(m),console.log(m))}),[e.isFinished]);var p=function(){o(!0),u(!1)};return Object(b.jsx)("div",{className:"stopWatch",children:Object(b.jsx)(I,{time:m})})},E=function(){var e=Object(c.useState)({squareX:"",squareY:"",optionsX:"",optionsY:""}),t=Object(l.a)(e,2),a=t[0],s=t[1],o=Object(c.useState)("hidden"),i=Object(l.a)(o,2),d=i[0],u=i[1],j=Object(c.useState)(null),f=Object(l.a)(j,2),m=f[0],h=f[1],p=Object(c.useState)(0),g=Object(l.a)(p,2),O=g[0],x=g[1],I=Object(c.useState)(null),N=Object(l.a)(I,2),k=N[0],E=N[1],Y=Object(c.useState)({url:"",Image:"",name:Object(r.f)().pathname.split("/")[2]}),D=Object(l.a)(Y,2),X=D[0],L=D[1];console.log(k),Object(c.useEffect)((function(){console.log("rebooting options list");var e={name:X.name,getImageData:function(e){return w.collection("images").doc(e).get().then((function(e){if(e.exists)return e.data();console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}))},getCoordinates:function(e,t){var n=e.offsetX?e.offsetX:e.pageX-t.offsetLeft,c=e.offsetY?e.offsetY:e.pageY-t.offsetTop,a="",s="",o="",i="";return n>t.width-23?a=t.width-47+t.offsetLeft:o=n<46?(a=t.offsetLeft)+50:(a=n-20+t.offsetLeft)+50,c>t.height-23?s=t.height-47+t.offsetTop:c<46?(s=t.offsetTop,i=t.offsetTop):i=s=c-20+t.offsetTop,n>t.width-170&&(o=a-124),c>t.height-104&&(i=s-104+46),{posX:n,posY:c,squareX:a,squareY:s,optionsX:o,optionsY:i}},checkClick:function(e,t,n,c){for(var a in c)c[a].name===n&&Math.abs(e-c[a].coordinates.x)<c[a].offset.x&&Math.abs(t-c[a].coordinates.y)<c[a].offset.y&&(c[a].isLocated=!0);return console.log(c),c},checkIsFinished:function(e){for(var t in e)if(!e[t].isLocated)return!1;return!0}};function t(){return(t=Object(y.a)(v.a.mark((function t(n){var c,a,s;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getImageData(X.name);case 2:for(s in c=t.sent,a=[],c)a.push(c[s]);console.log(a),E(a);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}n(60)("./".concat(X.name,".jpg")).then((function(t){L({url:t.default,Image:e})})),function(e){t.apply(this,arguments)}(X.name)}),[]);return console.log(a.posX,a.posY),Object(b.jsxs)("div",{className:"imageContainer",onMouseDown:function(e){if(0===e.button&&"nonModalImage"===e.target.id){var t=document.querySelector("#nonModalImage");u("hidden");var n=X.Image.getCoordinates(e,t);s({posX:n.posX,posY:n.posY,squareX:n.squareX,squareY:n.squareY,optionsX:n.optionsX,optionsY:n.optionsY}),u("")}if(1===e.button){var c=document.querySelector("#myModal");if(c.style.display&&"none"!==c.style.display)c.style.display="none";else{var a=document.querySelector("#modalImage");c.style.display="block",a.src=e.target.src}}},children:[m&&Object(b.jsx)(C,{display:"block",imageName:X.name,time:O}),Object(b.jsx)(T,{isFinished:m,logTime:function(e){x(e)}}),Object(b.jsxs)("div",{className:"image",children:[Object(b.jsx)("img",{id:"nonModalImage",src:X.url,alt:X.Image.alt}),k&&Object(b.jsx)(S,{visibility:d,coordinates:a,options:k,handleOptionsClick:function(e){h(!1);var t=e.target.innerHTML,n=X.Image.checkClick(a.posX,a.posY,t,k),c=[];for(var s in n)c.push(n[s]);E(c);var o=X.Image.checkIsFinished(c);console.log(o),o&&(u("hidden"),console.log(O)),h(o)}})]}),Object(b.jsxs)("div",{id:"myModal",className:"modal",children:[Object(b.jsx)("img",{className:"modalContent",id:"modalImage",alt:"".concat(X.Image.alt," zoomed")}),Object(b.jsx)("div",{id:"caption"})]})]})};var Y=function(){return Object(b.jsxs)("div",{className:"notFound",style:{margin:"50px auto"},children:[Object(b.jsx)("h1",{children:"404"}),Object(b.jsx)("h3",{children:"SITE NOT FOUND"})]})};var D=function(){return Object(b.jsx)(i.a,{basename:"/whereseverything",children:Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(O,{}),Object(b.jsx)("div",{className:"content",children:Object(b.jsxs)(r.c,{children:[Object(b.jsx)(r.a,{exact:!0,path:"/",children:Object(b.jsx)(g,{})}),Object(b.jsx)(r.a,{path:"/image/:imageName",children:Object(b.jsx)(E,{})}),Object(b.jsx)(r.a,{path:"*",children:Object(b.jsx)(Y,{})})]})})]})})},X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,66)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),s(e),o(e)}))};o.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(D,{})}),document.getElementById("root")),X()}},[[61,1,2]]]);
//# sourceMappingURL=main.55f7fb45.chunk.js.map